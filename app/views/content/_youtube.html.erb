
<ul>

<% @video.each do |vi|%>

<li style="display: inline; position: relative; float: left; width: 200px; height: 200px; list-style-type: none; margin-right: 2px;">

        <div class="video" id="videoSlider">
            <%= vi.embed_html_with_width(200).html_safe%>
           
             <% @id = vi.published_at %>
                <% @complex_id =  @id.strftime("%m""%d""%Y")%>
                <div class="button_add" id="add_nested_delivery_content<%= @complex_id %>">
                    Agregar
                </div>
             </div>
      
         </div>
         
     </li>

         
         <SCRIPT LANGUAGE="JavaScript">
                  
               $('#add_nested_delivery_content<%= @complex_id%>').click(function() {
                   
                    $('#content_killer').append('<input id="delivery_contents_attributes_<%=@complex_id%>_content" name="delivery[contents_attributes][<%=@complex_id%>][content]" size="30" type="text" value="<%= vi.player_url%>">');
                    
                    
                });
                
                
                
                
         </SCRIPT>



<%end%>

</ul>

<script>
$(function(){
  
    var $bl    = $("#youtube_content_delivery"),
        $th    = $("#content_free"),
        blW    = $bl.outerWidth(),
        blSW   = $bl[0].scrollWidth,
        wDiff  = (blSW/blW)-1,  // widths difference ratio
        mPadd  = 500,  // Mousemove Padding
        damp   = 20,  // Mousemove response softness
        mX     = 0,   // Real mouse position
        mX2    = 0,   // Modified mouse position
        posX   = 330,
        mmAA   = blW+(mPadd+10), // The mousemove available area
        mmAAr  = (blW/mmAA);    // get available mousemove fidderence ratio

	$bl.mousemove(function(e) {
        mX = e.pageX - this.offsetLeft;
        mX2 = Math.min( Math.max(0, mX-mPadd), mmAA ) * mmAAr;
	});

	setInterval(function(){
		posX += (mX2 - posX) / damp; // zeno's paradox equation "catching delay"	
		$th.css({marginLeft: -posX*wDiff });
	}, 10);

});
</script>