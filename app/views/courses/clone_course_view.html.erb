<%= form_for(@course, :url => clone_course_path, :method => :post,:html => { :class => "default-form"}) do |f| %>
	<div id="clone-course-data" class="form-course">
		<div style="width:400px; float:left;">
			<h3>Datos del curso</h3>
			
				<p>Nombre del curso</p>
	      <%= f.text_field :title, :class=>"input-style" %>
	      
	      <p>Silabus</p>
	      <%= f.text_area :silabus, :rows => 7, :cols => 50, :placeholder=>'Descripción', :class=>"input-style" %>
	     <div style="display: block; position: relative; height: 62px; clear: both;">
			<p><%= f.label :Valor_de_examenes%></p>
			<%= f.text_field :survey_param_evaluation, :class=>"custom-size-form fixLabeluser" %>
		</div>

		<div style="display: block; position: relative; height: 62px; clear: both;">
			<p><%= f.label :Valor_de_tareas_o_entregas %></p>
			<%= f.text_field :delivery_param_evaluation, :class=>"custom-size-form fixLabeluser" %>
		</div>

		<div style="display: block; position: relative; height: 62px; clear: both;">
			<p><%= f.label :fecha_de_inicio %></p>
			 <%= f.text_field :init_date, :placeholder=>'Fecha inicio', :class=>"date-input fixLabeluser", :value => (f.object.init_date)? f.object.init_date.strftime('%m/%d/%Y'):f.object.init_date  %>
		</div>
	
		<div style="display: block; position: relative; height: 62px; clear: both;">
			<p><%= f.label :fecha_de_finalización %></p>
			<%= f.text_field :finish_date, :placeholder=>'Fecha final', :class=>"date-input fixLabeluser", :value => (f.object.finish_date)?f.object.finish_date.strftime('%m/%d/%Y'):f.object.finish_date  %>
		</div>
	      
	      <div style="float: right; margin-right: 0px;">
		      <p><%= f.label :public_status, 'Privacidad' %></p>
		      <% if @course.public_status == 'public' %>
		      <%= f.select :public_status, options_for_select([['Público', 'public'],['Privado', 'Private']])%>
		      <%else%>
		      <%= f.select :public_status, options_for_select([['Privado', 'Private'],['Público', 'public']])%>
		      <%end%>
		  </div>

		</div>
		<div style="clear: both"></div>
		<div>
			<button class="clone-course-btn" data="clone-course-deliveries" action="move" type="button">Siguiente</button>
		</div>
	</div>

	<div id="clone-course-deliveries" class="form-course" style="display:none">
		<h3>Tareas</h3>
		<% @course.deliveries.each do |delivery|%>
			<div>
				<%= delivery.title %>
				<% delivery_id =  delivery.id.to_s%>
				<%=text_field_tag "deliveries[][publish_date]", nil ,:placeholder=>'Fecha publicación', :class=>"date-input fixLabeluser", :id => "fecha_publicacion_delivery_" + delivery_id %>
				<%=text_field_tag "deliveries[][end_date]", nil ,:placeholder=>'Fecha Entrega', :class=>"date-input fixLabeluser", :id => "fecha_entrega_delivery_" + delivery_id%>
				<%= check_box_tag "deliveries[][id]", delivery_id, false, :class => 'is-correct-chk' %>

				<script>
				$(function() {
			            $( "#fecha_entrega_delivery_<%=delivery_id%>, #fecha_publicacion_delivery_<%=delivery_id%>" ).datepicker({
			                inline: true,
			                minDate: 0,
			                showOtherMonths: true,
			                dateFormat: 'dd/mm/yy',
			                monthNames: ['Enero', 'Febrero', 'Marzo', 'Abril', 'Mayo', 'Junio','Julio', 'Augosto', 'Septiembre', 'Octubre', 'Noviembre', 'Diciembre'],
			                dayNamesMin: ['Dom', 'Lun', 'Mar', 'Mie', 'Jue', 'Vie', 'Sab']
			            });
			    });
				</script>
			</div> 
		<% end %>
		<div>
			<button class="clone-course-btn" data="clone-course-discussions" action="move" type="button">Siguiente</button>
			<button class="clone-course-btn" data="clone-course-data" action="move" type="button">Anterior</button>			
		</div>
	</div>
	<div id="clone-course-discussions" class="form-course" style="display:none">
		<h3>Discusiones</h3>
		<% @course.discussions.each do |discussion|%>
			<div>
				<%= discussion.title %>
				<%= check_box_tag "discussions[]", discussion.id, false, :class => 'is-correct-chk' %>
			</div>
		<% end %>
		<div>
			<button class="clone-course-btn" data="clone-course-surveys" action="move" type="button">Siguiente</button>
			<button class="clone-course-btn" data="clone-course-deliveries" action="move" type="button">Anterior</button>	
		</div>
	</div>
	<div id="clone-course-surveys" class="form-course" style="display:none">
		<h3>Cuestionarios</h3>
		<% @course.surveys.each do |survey|%>
			<div>
				<%= survey.name %>
				<% survey_id =  survey.id.to_s%>
				<%=text_field_tag "surveys[][publish_date]", nil ,:placeholder=>'Fecha publicación', :class=>"date-input fixLabeluser", :id => "fecha_publicacion_survey_" + survey_id %>
				<%=text_field_tag "surveys[][end_date]", nil ,:placeholder=>'Fecha Entrega', :class=>"date-input fixLabeluser", :id => "fecha_entrega_survey_" + survey_id%>
				<%= check_box_tag "surveys[][id]", survey.id, false, :class => 'is-correct-chk' %>
			</div>
			<script>
				$(function() {
			            $( "#fecha_entrega_survey_<%=survey_id%>, #fecha_publicacion_survey_<%=survey_id%>" ).datepicker({
			                inline: true,
			                minDate: 0,
			                showOtherMonths: true,
			                dateFormat: 'dd/mm/yy',
			                monthNames: ['Enero', 'Febrero', 'Marzo', 'Abril', 'Mayo', 'Junio','Julio', 'Augosto', 'Septiembre', 'Octubre', 'Noviembre', 'Diciembre'],
			                dayNamesMin: ['Dom', 'Lun', 'Mar', 'Mie', 'Jue', 'Vie', 'Sab']
			            });
			    });
				</script>
		<% end %>
		<div>
			<button class="clone-course-btn" data="clone-course-files" action="move" type="button">Siguiente</button>
			<button class="clone-course-btn" data="clone-course-discussions" action="move" type="button">Anterior</button>
		</div>
	</div>
	<div id="clone-course-files" class="form-course" style="display:none">
		<h3>Documentos</h3>
		<% @course.course_files.each do  |course_file|%>
			<div>
				<%= course_file.file %>
				<%= check_box_tag "course_files[]", course_file.id, false, :class => 'is-correct-chk' %>
			</div>
		<% end %>
		<div>
			<%= f.submit "Clonar Curso", :class=>"clone-course-btn" %>
			<button class="clone-course-btn" data="clone-course-surveys" action="move" type="button">Anterior</button>		
		</div>
	</div>
<% end %>
<script>
 	$(function() {
            $( "#course_init_date, #course_finish_date" ).datepicker({
                inline: true,
                minDate: 0,
                showOtherMonths: true,
                dateFormat: 'dd/mm/yy',
                monthNames: ['Enero', 'Febrero', 'Marzo', 'Abril', 'Mayo', 'Junio','Julio', 'Augosto', 'Septiembre', 'Octubre', 'Noviembre', 'Diciembre'],
                dayNamesMin: ['Dom', 'Lun', 'Mar', 'Mie', 'Jue', 'Vie', 'Sab']
            });
    });

	$(".clone-course-btn").on('click', function () {
		var data = $(this).attr( "data" ),
			action = $(this).attr( "action" );

		switch(action){
			case 'move': 
				$('#'+data).show();
				$(this).parent().parent().hide();
			break;
			case 'submit': 
				alert('Guardar');
			break;
		}
	});
</script>