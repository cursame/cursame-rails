<div style="width: 900px; height: auto; display: block; position: relative;">

	<!-- begin sidebar -->
	<div style="float:left; width: 210px; height: 91%; position: fixed; display: block; padding-top: 20px; border-right: 1px solid #ccc; overflow-x:hidden; padding-left: 13px; background: #404959; color: #FFF;">

	
<div id="filterCont" style="position: fixed;">
	<div id="ChatFilter" style="background: #363F4D; display: block; position: relative; display: block; width: 210px; padding-top: 17px; padding-left: 13px; height: 32px; margin-left: -13px; margin-top: -19px; cursor: pointer;">Chat
	
		<span id="ChatFilterDrop">
			<ul>
				<li style="padding: 10px 1px 10px 4px; display: block;">&nbsp;&nbsp;Ver solo</li>
				<li><a href="/">Cursos</a></li>
				<li><a href="/">Amigos conectados</a></li>
			</ul>
		</span>
	</div><!-- ends ChatFilter -->
</div>

	<div class="divider" style="display: block; position: relative; height: 50px;"></div>
	
	<span class="titleBraker" style="width: 192px; color: #FFF; height: 18px; margin-top: -22px; padding-top: 17px; font-weight: lighter; display: block; -webkit-border-radius: 0px; -moz-border-radius: 0px; border-radius: 0px;"><img src="/assets/small_courses.png"> Cursos</span>

		<% @courses_online.each do |course|%>
		    <div class="chatSingle_big"><%= link_to course.title, open_channel_path(course.id,"course" => true), :remote => true%></div>
		<%end%>

	<span class="titleBraker" style="width: 192px; color: #FFF; height: 18px; margin-top: -22px; padding-top: 37px; font-weight: lighter; display: block; -webkit-border-radius: 0px; -moz-border-radius: 0px; border-radius: 0px;"><img src="/assets/friends.png"> Amigos conectados</span>

		<% @friends_online.each do |user|%>
		    <div class="chatSingle_big"><%= link_to user.email, open_channel_path(user.id), :remote => true%></div>
		</div>

		<%end%>

	</div>
	<!-- ends sidebar -->
	
	
	
	<!-- begins text area -->
	<div id="chat" style="float: right; width: 716px; margin-left: -1px; height: 100%; position: relative; display: block;">
		<%=render(:partial => '/shared/chat/chat',
		 :locals => {:messages => @messages, :channel => @channel})%>
	</div>
	<!-- ends text area -->
	
	<!--
	<div class="ads" style="width: 170px; height: 400px; display: inline-block; background: #ddd; position: relative; float: right; margin-top: 7px; margin-right: -9px; margin-left: 3px;">
		
	</div>
	-->
</div>



<script>
	$(document).ready( function() {
	   $('#ChatFilterDrop').hide();
	});
	$('#ChatFilter').click( function() {
		$('#ChatFilterDrop').slideToggle();
	});
	$('.chatSingle_big > a:link').click( function() {
  		$('.chat-panel').css({ visibility: "hidden" });
  	});
</script>


<!--
  <script>
  $(document).ready( function() {
	   $('#ChatFilterDrop').hide();
  });
  $('#ChatFilter').click( function() {
	   $('#ChatFilterDrop').toggle();
  });
  $('#ChatFilter').click( function() {
  	$(this).css({ background: "#006696" })
  });
  $('#ChatFilter').click( function() {
  	$(this).css({ background: "#006696" })
  });
  $('.chatSingle_big > a:link').click( function() {
  	$('.chat-panel').css({ visibility: "hidden" });
  });
  </script>
  -->

  <script>
    function UpdateTableHeaders() {
       $(".persist-area").each(function() {
       
           var el             = $(this),
               offset         = el.offset(),
               scrollTop      = $(window).scrollTop(),
               floatingHeader = $(".floatingHeader", this)
           
           if ((scrollTop > offset.top) && (scrollTop < offset.top + el.height())) {
               floatingHeader.css({
                "visibility": "visible"
               });
           } else {
               floatingHeader.css({
                "visibility": "hidden"
               });      
           };
       });
    }
    
    // DOM Ready      
    $(function() {
    
       var clonedHeaderRow;
    
       $(".persist-area").each(function() {
           clonedHeaderRow = $(".persist-header", this);
           clonedHeaderRow
             .before(clonedHeaderRow.clone())
             .css("width", clonedHeaderRow.width())
             .addClass("floatingHeader");
             
       });
       
       $(window)
        .scroll(UpdateTableHeaders)
        .trigger("scroll");
       
    });
  </script>